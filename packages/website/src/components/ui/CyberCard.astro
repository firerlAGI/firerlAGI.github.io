---
interface Props {
  glowColor?: 'cyan' | 'pink'
  title?: string
  titleI18n?: string
  className?: string
  noPadding?: boolean
}

const { 
  glowColor = 'cyan', 
  title, 
  titleI18n,
  className = '',
  noPadding = false
} = Astro.props

const isCyan = glowColor === 'cyan'
const cornerColor = isCyan ? 'border-cyan-400' : 'border-fuchsia-400'
const titleColor = isCyan ? 'text-cyan-400' : 'text-fuchsia-400'
const gradientColor = isCyan ? 'from-cyan-500/0 via-cyan-500/50 to-cyan-500/0' : 'from-fuchsia-500/0 via-fuchsia-500/50 to-fuchsia-500/0'
---

<div class={`relative group ${className}`}>
  <div class={`absolute -inset-[1px] bg-gradient-to-r ${gradientColor} opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-lg blur-sm`} />

  <div class:list={[
      "relative h-full overflow-hidden bg-black/40 backdrop-blur-md border transition-all duration-300 rounded-lg flex flex-col",
      isCyan ? "border-cyan-500/30 group-hover:shadow-[0_0_20px_rgba(34,211,238,0.3)]" : "border-fuchsia-500/30 group-hover:shadow-[0_0_20px_rgba(217,70,239,0.3)]",
      !noPadding && "p-6"
    ]}>
    
    <div class={`absolute top-0 left-0 w-3 h-3 border-t-2 border-l-2 ${cornerColor} rounded-tl-sm opacity-60 group-hover:opacity-100 transition-opacity`} />
    <div class={`absolute top-0 right-0 w-3 h-3 border-t-2 border-r-2 ${cornerColor} rounded-tr-sm opacity-60 group-hover:opacity-100 transition-opacity`} />
    <div class={`absolute bottom-0 left-0 w-3 h-3 border-b-2 border-l-2 ${cornerColor} rounded-bl-sm opacity-60 group-hover:opacity-100 transition-opacity`} />
    <div class={`absolute bottom-0 right-0 w-3 h-3 border-b-2 border-r-2 ${cornerColor} rounded-br-sm opacity-60 group-hover:opacity-100 transition-opacity`} />

    <div class="absolute inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(transparent_50%,rgba(0,0,0,1)_50%)] bg-[length:100%_4px] z-0" />

    {title && (
      <div class="relative z-10 mb-4 flex items-center gap-2">
        <div class={`h-1 w-1 ${isCyan ? 'bg-cyan-500' : 'bg-fuchsia-500'}`} />
        <h3 class={`font-cyber text-lg font-bold uppercase tracking-widest ${titleColor}`} data-i18n={titleI18n}>
          {title}
        </h3>
        <div class={`h-[1px] flex-grow bg-gradient-to-r ${isCyan ? 'from-cyan-500/30 to-transparent' : 'from-fuchsia-500/30 to-transparent'}`} />
      </div>
    )}
    
    <div class="relative z-10 font-mono text-gray-300 flex-grow flex flex-col">
      <slot />
    </div>
  </div>
</div>
