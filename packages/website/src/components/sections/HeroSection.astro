---
import GlitchText from '../ui/GlitchText.astro'
---

<section class="relative flex items-center justify-center min-h-[90vh] overflow-hidden w-full animate-hero-enter bg-[radial-gradient(ellipse_at_top,rgba(6,182,212,0.15)_0%,transparent_50%),radial-gradient(ellipse_at_bottom_right,rgba(217,70,239,0.1)_0%,transparent_50%),linear-gradient(180deg,#050505_0%,#0a0a0a_100%)] before:content-[''] before:absolute before:inset-0 before:z-20 before:bg-[linear-gradient(90deg,rgba(0,255,255,0.03)_1px,transparent_1px),linear-gradient(rgba(0,255,255,0.03)_1px,transparent_1px)] before:bg-[size:50px_50px] before:animate-grid-move">
  <div class="absolute inset-0 bg-[url('/assets/images/hero-bg.png')] bg-cover bg-center bg-no-repeat z-0"></div>
  <div class="absolute inset-0 bg-[rgba(128,128,128,0.7)] backdrop-grayscale z-10 pointer-events-none"></div>
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#050505] via-90% z-30 pointer-events-none"></div>
  
  <div class="relative z-40 flex flex-col items-center w-full max-w-[1400px] px-5 text-center">
    <div class="inline-flex items-center gap-2 px-4 py-1 mb-4 bg-cyan-500/10 border border-cyan-500/50 rounded-full animate-pulse-fast">
      <svg class="w-4 h-4 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="4 17 10 11 4 5"></polyline>
        <line x1="12" y1="19" x2="20" y2="19"></line>
      </svg>
      <span class="text-cyan-400 font-mono text-sm font-medium tracking-wider" data-i18n="hero.status">System Online</span>
    </div>

    <h1 class="flex flex-col mb-4 text-6xl md:text-[6rem] font-bold leading-[1.1] animate-fade-in-up [animation-delay:200ms]">
      <GlitchText 
        text="FIRERLAGI" 
        as="span"
        className="text-white font-cyber tracking-widest"
        data-i18n="hero.title"
      />
    </h1>
    
    <p class="min-h-[2.25rem] mb-4 font-mono text-xl md:text-2xl text-cyan-400 leading-normal animate-fade-in-up [animation-delay:400ms]" id="typewriter-text"></p>
    
    <p class="mb-12 font-mono text-lg text-[#86868B] animate-fade-in-up [animation-delay:500ms]" data-i18n="hero.subtitle">
      Full Stack Engineer | Cyberpunk Enthusiast | AI Integrator
    </p>
    
    <div class="flex flex-wrap justify-center gap-4 w-full animate-fade-in-up [animation-delay:600ms]">
      <a href="#projects" class="group relative px-8 py-3 overflow-hidden font-cyber text-sm font-medium tracking-widest uppercase transition-all duration-250 bg-cyan-500/10 border border-cyan-400 cursor-pointer hover:shadow-[0_0_20px_rgba(0,255,255,0.3)]">
        <span class="relative z-10 text-cyan-400" data-i18n="hero.cta_work">VIEW WORK</span>
        <div class="absolute inset-0 w-0 bg-cyan-400 opacity-20 transition-[width] duration-250 ease-out group-hover:w-full"></div>
      </a>
      <a href="#contact" class="group relative px-8 py-3 overflow-hidden font-cyber text-sm font-medium tracking-widest uppercase transition-all duration-250 bg-fuchsia-500/10 border border-fuchsia-500 cursor-pointer hover:shadow-[0_0_20px_rgba(255,0,255,0.3)]">
        <span class="relative z-10 text-fuchsia-500" data-i18n="hero.cta_contact">CONTACT</span>
        <div class="absolute inset-0 w-0 bg-fuchsia-500 opacity-20 transition-[width] duration-250 ease-out group-hover:w-full"></div>
      </a>
    </div>
  </div>
  
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 text-cyan-400 text-4xl opacity-50 z-40 animate-bounce">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  </div>
</section>

<script>
  import { language } from '../../stores/languageStore';
  import { translations } from '../../translations';

  const typewriterText = document.getElementById('typewriter-text');
  let currentTimeout: any = null;

  function startTypewriter(text: string) {
    if (!typewriterText) return;
    
    // Clear existing timeout
    if (currentTimeout) clearTimeout(currentTimeout);
    
    let index = 0;
    typewriterText.textContent = '';
    
    const type = () => {
      if (index < text.length) {
        typewriterText.textContent = text.slice(0, index + 1) + '_';
        index++;
        currentTimeout = setTimeout(type, 50);
      } else {
        typewriterText.textContent = text;
      }
    };
    
    type();
  }

  // Subscribe to language changes
  language.subscribe(lang => {
    const text = translations[lang].hero.typewriter;
    startTypewriter(text);
  });
</script>
